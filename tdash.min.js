const HTMLParsedElement=(()=>{const e="DOMContentLoaded",t=new WeakMap,n=[],a=e=>{do{if(e.nextSibling)return!0}while(e=e.parentNode);return!1},s=()=>{n.splice(0).forEach(e=>{!0!==t.get(e[0])&&(t.set(e[0],!0),e[0][e[1]]())})};document.addEventListener(e,s);class i extends HTMLElement{static withParsedCallback(i,l="parsed"){const{prototype:r}=i,{connectedCallback:c}=r,o=l+"Callback",d=(t,n,a,s)=>{n.disconnect(),a.removeEventListener(e,s),u(t)},u=e=>{n.length||requestAnimationFrame(s),n.push([e,o])};return Object.defineProperties(r,{connectedCallback:{configurable:!0,value(){if(c&&c.apply(this,arguments),o in this&&!t.has(this)){const n=this,{ownerDocument:s}=n;if(t.set(n,!1),"complete"===s.readyState||a(n))u(n);else{const t=()=>d(n,i,s,t);s.addEventListener(e,t);const i=new MutationObserver(()=>{a(n)&&d(n,i,s,t)});i.observe(n.parentNode,{childList:!0,subtree:!0})}}}},[l]:{configurable:!0,get(){return!0===t.get(this)}}}),i}}return i.withParsedCallback(i)})(),defSettings={fallback:"key"};class TDash{constructor(e="en",t=defSettings){this.defaultLang=e,this.languages={},this.currentLang=e,this.settings=t,document.documentElement.lang=e}async addLang(e,t){let n=await fetch(t);this.languages[e]=await n.json()}translate(e){return e in this.languages[this.currentLang]?this.languages[this.currentLang][e]:"default"===this.settings.fallback&&e in this.languages[this.defaultLang]?(console.warn(`'${e}' could not be found in translation files. Falling back to default language.`),this.languages[this.defaultLang][e]):(console.warn(`'${e}' could not be found in translation files. Falling back to key.`),e)}init(){var e=setInterval(()=>{if(Object.keys(this.languages).length>0)return customElements.define("t-",TDashElement),void clearInterval(e)},100)}updateLang(e){this.currentLang=e,document.documentElement.lang=e;var t=new Event("updateLang");document.querySelectorAll("t-").forEach(e=>e.dispatchEvent(t))}}class TDashElement extends HTMLParsedElement{constructor(){super(),this.addEventListener("updateLang",function(e){this.updateLang()})}parsedCallback(){this.key=this.innerHTML,this.updateLang()}updateLang(){this.innerHTML=tdash.translate(this.key)}}